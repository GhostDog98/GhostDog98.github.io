(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{1509:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Firmware-Flash/Updating_EBB_klipper_firmware_via_CanBoot",function(){return n(7719)}])},7860:function(e,i){"use strict";i.Z={src:"/docs/_next/static/media/6416055b8f5b1.4a83f822.png",height:698,width:1240,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAVUlEQVR42i2LUQqAMAxDk7U/CgPZ/Rl4N/93g8YwLSUQ3gvnvElWiYze8zyjtSYpx7gMXHJfRICEZOVwASCIoFAQ/Fb+rWeQAHxSrvUYGZvtRGSo9AI4LCKS0jo9wAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5}},7719:function(e,i,n){"use strict";n.r(i),n.d(i,{__toc:function(){return c}});var r=n(5893),a=n(2673),t=n(7693),s=n(8426);n(9128);var o=n(2643),l=n(7860),d=n(9013);let c=[{depth:2,value:"Requirements",id:"requirements"},{depth:2,value:"Updating Klipper",id:"updating-klipper"},{depth:2,value:"Make The klipper firmware",id:"make-the-klipper-firmware"},{depth:2,value:"Flash via Canboot",id:"flash-via-canboot"}];function _createMdxContent(e){let i=Object.assign({h1:"h1",h2:"h2",p:"p",pre:"pre",code:"code",span:"span",img:"img"},(0,o.a)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{children:"Updating klipper on the EBB with CanBoot"}),"\n",(0,r.jsx)(i.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(i.p,{children:"This is for use with a working printer that requires the klipper firmware on the EBB to be updated. You must have Flashed CanBoot and Klipper per the initial flashing instructions."}),"\n",(0,r.jsx)(i.h2,{id:"updating-klipper",children:"Updating Klipper"}),"\n",(0,r.jsx)(i.p,{children:"You will need the canbus ID for your EBB, it can be found in your printer.cfg file under [mcu EBBcan], write this down, you will need it later in the process."}),"\n",(0,r.jsx)(i.h2,{id:"make-the-klipper-firmware",children:"Make The klipper firmware"}),"\n",(0,r.jsx)(i.p,{children:"Stop the klipper Service (This can be done from in mainsail)"}),"\n",(0,r.jsx)(i.p,{children:"Connect to your printer via SSH"}),"\n",(0,r.jsx)(i.pre,{"data-language":"shell","data-theme":"default",children:(0,r.jsxs)(i.code,{"data-language":"shell","data-theme":"default",children:[(0,r.jsxs)(i.span,{className:"line",children:[(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"$"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"cd"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"~/klipper"})]}),"\n",(0,r.jsxs)(i.span,{className:"line",children:[(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"$"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"make"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"menuconfig"})]})]})}),"\n",(0,r.jsx)(i.pre,{"data-language":"text","data-theme":"default",children:(0,r.jsxs)(i.code,{"data-language":"text","data-theme":"default",children:[(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"(Top) "})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"                             Klipper Firmware Configuration"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"[*] Enable extra low-level configuration options"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    Micro-controller Architecture (STMicroelectronics STM32)  --->"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    Processor model (STM32G0B1)  --->"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    Bootloader offset (8KiB bootloader)  --->"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    Clock Reference (8 MHz crystal)  --->"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    Communication interface (CAN bus (on PB0/PB1))  --->"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"(1000000) CAN bus speed"})}),"\n",(0,r.jsx)(i.span,{className:"line",children:(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"()  GPIO pins to set at micro-controller startup"})})]})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"image-20230319023921521",placeholder:"blur",src:l.Z})}),"\n",(0,r.jsxs)(i.p,{children:["Press Q to save and then run ",(0,r.jsx)(i.code,{children:"make"})," from the terminal:"]}),"\n",(0,r.jsx)(i.pre,{"data-language":"shell","data-theme":"default",children:(0,r.jsx)(i.code,{"data-language":"shell","data-theme":"default",children:(0,r.jsxs)(i.span,{className:"line",children:[(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"$"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"make"})]})})}),"\n",(0,r.jsx)(i.h2,{id:"flash-via-canboot",children:"Flash via Canboot"}),"\n",(0,r.jsx)(d.UW,{type:"info",children:(0,r.jsx)(i.p,{children:"Canboot was recently renamed to Katapult. Depending on your installation you may need to substitute katapult for CanBoot below."})}),"\n",(0,r.jsx)(i.p,{children:"Via SSH:"}),"\n",(0,r.jsx)(i.pre,{"data-language":"shell","data-theme":"default",children:(0,r.jsxs)(i.code,{"data-language":"shell","data-theme":"default",children:[(0,r.jsxs)(i.span,{className:"line",children:[(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"~/CanBoot/scripts"})]}),"\n",(0,r.jsxs)(i.span,{className:"line",children:[(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-function)"},children:"python3"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"flashtool.py"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"-i"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"can0"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"-f"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"~/klipper/out/klipper.bin"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"-u"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-string)"},children:"uui"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"d"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(i.span,{style:{color:"var(--shiki-token-comment)"},children:"# replacing <uuid> with the uuid for your EBB"})]})]})}),"\n",(0,r.jsx)(i.p,{children:"Wait for the flash to finish.\nReboot your printer."}),"\n",(0,r.jsx)(d.UW,{type:"info",children:(0,r.jsx)(i.p,{children:"In the event the Klipper flash fails and the EBB becomes unresponive, it can be recovered by reflashing over USB according to the initial flashing instructions, startimg with flashing canboot. The 5v jumper on the EBB is not needed if the board is powered from the printer."})})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,o.a)(),e.components);return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/Firmware-Flash/Updating_EBB_klipper_firmware_via_CanBoot.mdx",route:"/Firmware-Flash/Updating_EBB_klipper_firmware_via_CanBoot",timestamp:1706137602e3,pageMap:[{kind:"Folder",name:"Firmware-Flash",route:"/Firmware-Flash",children:[{kind:"MdxPage",name:"Updating_EBB_klipper_firmware_via_CanBoot",route:"/Firmware-Flash/Updating_EBB_klipper_firmware_via_CanBoot"},{kind:"MdxPage",name:"Updating_Manta_klipper_firmware_remotely",route:"/Firmware-Flash/Updating_Manta_klipper_firmware_remotely"},{kind:"Meta",data:{"flash-m8p-v2-ebb":"Flash M8P V2 and EBB SB2209","flash-m8p-v1-ebb":"Flash M8P V1 and EBB SB2209",Updating_EBB_klipper_firmware_via_CanBoot:"Updating EBB Klipper firmware via CanBoot",Updating_Manta_klipper_firmware_remotely:"Updating Manta Klipper firmware remotely"}},{kind:"MdxPage",name:"flash-m8p-v1-ebb",route:"/Firmware-Flash/flash-m8p-v1-ebb"},{kind:"MdxPage",name:"flash-m8p-v2-ebb",route:"/Firmware-Flash/flash-m8p-v2-ebb"}]},{kind:"Folder",name:"Firmware-Setting",route:"/Firmware-Setting",children:[{kind:"Meta",data:{"sensorless-homing-m8p-v2":"M8P v2 Sensorless Homing","sensorless-homing-m8p-v1":"M8P v1 Sensorless Homing"}},{kind:"MdxPage",name:"sensorless-homing-m8p-v1",route:"/Firmware-Setting/sensorless-homing-m8p-v1"},{kind:"MdxPage",name:"sensorless-homing-m8p-v2",route:"/Firmware-Setting/sensorless-homing-m8p-v2"}]},{kind:"MdxPage",name:"Firmware",route:"/Firmware"},{kind:"Folder",name:"GENERAL-KIT",route:"/GENERAL-KIT",children:[{kind:"MdxPage",name:"Assembly-Tips",route:"/GENERAL-KIT/Assembly-Tips"},{kind:"MdxPage",name:"FAQ",route:"/GENERAL-KIT/FAQ"},{kind:"MdxPage",name:"Troubleshooting",route:"/GENERAL-KIT/Troubleshooting"},{kind:"MdxPage",name:"What-Else",route:"/GENERAL-KIT/What-Else"},{kind:"MdxPage",name:"Whats-This",route:"/GENERAL-KIT/Whats-This"},{kind:"MdxPage",name:"Wiring-Guide",route:"/GENERAL-KIT/Wiring-Guide"},{kind:"Meta",data:{"Whats-This":"About Our Kits","What-Else":"What Else Will I Need?","Assembly-Tips":"General Assembly Tips","Wiring-Guide":"General Wiring Guide",Troubleshooting:"Troubleshooting",FAQ:"FAQ"}}]},{kind:"Folder",name:"Maintenance",route:"/Maintenance",children:[{kind:"MdxPage",name:"Linear-rail-lubrication",route:"/Maintenance/Linear-rail-lubrication"},{kind:"MdxPage",name:"Spare-Parts",route:"/Maintenance/Spare-Parts"},{kind:"MdxPage",name:"Standard-Maintenance-Cycle",route:"/Maintenance/Standard-Maintenance-Cycle"},{kind:"Meta",data:{"Linear-rail-lubrication":"Linear Rail Lubrication","Standard-Maintenance-Cycle":"Standard Maintenance","Spare-Parts":"Spare Parts"}}]},{kind:"MdxPage",name:"Sound",route:"/Sound"},{kind:"Folder",name:"Troubleshooting",route:"/Troubleshooting",children:[{kind:"Meta",data:{troubleshooting:"General Troubleshooting","corexy-direction":"CoreXY Direction Issues"}},{kind:"MdxPage",name:"corexy-direction",route:"/Troubleshooting/corexy-direction"},{kind:"MdxPage",name:"troubleshooting",route:"/Troubleshooting/troubleshooting"}]},{kind:"MdxPage",name:"Tuning",route:"/Tuning"},{kind:"Folder",name:"VORON-2.4-CBT-KIT",route:"/VORON-2.4-CBT-KIT",children:[{kind:"MdxPage",name:"Assembly-Tips",route:"/VORON-2.4-CBT-KIT/Assembly-Tips"},{kind:"MdxPage",name:"BOM-List",route:"/VORON-2.4-CBT-KIT/BOM-List"},{kind:"MdxPage",name:"Print-Guide",route:"/VORON-2.4-CBT-KIT/Print-Guide"},{kind:"MdxPage",name:"Umbilical-Guide",route:"/VORON-2.4-CBT-KIT/Umbilical-Guide"},{kind:"MdxPage",name:"Wiring-Guide",route:"/VORON-2.4-CBT-KIT/Wiring-Guide"},{kind:"Meta",data:{"BOM-List":"BOM List","Print-Guide":"Print Guide","Assembly-Tips":"Assembly Tips","Umbilical-Guide":"Umbilical Guide","Wiring-Guide":"Wiring Guide"}}]},{kind:"Folder",name:"VORON-AWD-2WD-MOD",route:"/VORON-AWD-2WD-MOD",children:[{kind:"MdxPage",name:"2.4-manual",route:"/VORON-AWD-2WD-MOD/2.4-manual"},{kind:"MdxPage",name:"2.4-wiring",route:"/VORON-AWD-2WD-MOD/2.4-wiring"},{kind:"Meta",data:{intro:"9mm AWD/2WD Intro",bom:"9mm AWD/2WD BOM","trident-manual":"Trident AWD/2WD Manual","2.4-manual":"2.4 AWD/2WD Manual","2.4-wiring":"2.4 AWD/2WD Wiring",tuning:"Tuning"}},{kind:"MdxPage",name:"bom",route:"/VORON-AWD-2WD-MOD/bom"},{kind:"MdxPage",name:"intro",route:"/VORON-AWD-2WD-MOD/intro"},{kind:"MdxPage",name:"trident-manual",route:"/VORON-AWD-2WD-MOD/trident-manual"},{kind:"MdxPage",name:"tuning",route:"/VORON-AWD-2WD-MOD/tuning"}]},{kind:"Folder",name:"VORON-TRIDENT-CBT-KIT",route:"/VORON-TRIDENT-CBT-KIT",children:[{kind:"MdxPage",name:"About-Trident-Kit",route:"/VORON-TRIDENT-CBT-KIT/About-Trident-Kit"},{kind:"MdxPage",name:"Assembly-Tips",route:"/VORON-TRIDENT-CBT-KIT/Assembly-Tips"},{kind:"MdxPage",name:"Print-Guide",route:"/VORON-TRIDENT-CBT-KIT/Print-Guide"},{kind:"MdxPage",name:"Trident-CBT-Bom",route:"/VORON-TRIDENT-CBT-KIT/Trident-CBT-Bom"},{kind:"MdxPage",name:"Wiring",route:"/VORON-TRIDENT-CBT-KIT/Wiring"},{kind:"Meta",data:{"About-Trident-Kit":"MPX vs Official Trident","Trident-CBT-Bom":"BOM List","Print-Guide":"Print Guide","Assembly-Tips":"Assembly Tips",Wiring:"Wiring Guide"}}]},{kind:"Meta",data:{index:"Introduction","-- Voron Kits":{type:"separator",title:"VORON Kits"},"GENERAL-KIT":"General Kit Info","VORON-2.4-CBT-KIT":"V2.4 CBT Specific","VORON-TRIDENT-CBT-KIT":"Trident CBT Specific","-- General":{type:"separator",title:"General"},Firmware:"Firmware","Firmware-Flash":"Firmware Flash","Firmware-Setting":"Firmware Settings",Tuning:"Initial Startup & Tuning",Troubleshooting:"Troubleshooting",Maintenance:"Maintenance","-- Mods":{type:"separator",title:"Mods"},"VORON-AWD-2WD-MOD":"VORON AWD/2WD Mod",Sound:"Adding Sound","-- Archive":{type:"separator",title:"Archive"}}},{kind:"MdxPage",name:"index",route:"/"}],flexsearch:{codeblocks:!0},title:"Updating klipper on the EBB with CanBoot",headings:c},pageNextRoute:"/Firmware-Flash/Updating_EBB_klipper_firmware_via_CanBoot",nextraLayout:t.ZP,themeConfig:s.Z};i.default=(0,a.j)(h)},8426:function(e,i,n){"use strict";var r=n(5893);n(7294);let a={logo:(0,r.jsx)("span",{children:"MPX WIKI"}),project:{link:"https://github.com/MagicPhoenix/mpx-wiki/"},chat:{link:"https://discord.gg/3Uhq6k7YSg"},docsRepositoryBase:"https://github.com/MagicPhoenix/mpx-wiki/tree/main",footer:{text:"MPX Wiki @2020-2024"},sidebar:{defaultMenuCollapseLevel:1},head:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/favicon.ico"})}),useNextSeoProps:()=>({titleTemplate:"%s – MPX Wiki"})};i.Z=a},5789:function(){}},function(e){e.O(0,[774,162,888,179],function(){return e(e.s=1509)}),_N_E=e.O()}]);